# Cluster-connect/access k8s cluster -:
# ====================================
# Step-1 -:
# ========
# install aws-cli -:
# -----------------
#  > curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
#  > unzip awscliv2.zip
#  > sudo ./aws/install

# Step -2 -:
# =========
#  >  curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
#  >  chmod +x ./kubectl
#  >  sudo mv ./kubectl /usr/local/bin/kubectl
#  >  kubectl version --client 

# Step -3 -:
# =========
# > aws eks list-clusters --region region-name
# > aws eks update-kubeconfig --region region-name --name cluster-1     > To change the cluster 
# > kubectl config use arn:aws:eks:region:arn-number:cluster/cluster1
# > aws sts get-caller-identity --query Account --output text           > To Get the aws account ID
# > aws kms list-keys                                                   > To get the KMS key ID.


# Eks cmds -:
=============
# eksctl get nodegroups --cluster=eks-devops-usw2-eks-poc                   > To know the cluster-node-group details.      
# eksctl edit nodegroup --name=<node-group-name> --cluster=<cluster-name>   > To scaledown the k8s pods
# eksctl scale nodegroup --cluster=eks-devops-usw2-eks-poc  --name=default-workerpool --nodes-min=2 --nodes-max=4 --nodes=3   -: scaleup-nodes

# HELM - CMDS -:
# =============
# helm repo list
# helm repo list -n ns-name
# helm list
# helm list -n ns-name
# helm delete releasename -n ns-name
# helm install -f values.yaml release-name name/opentelemtry-collector -n ns-name
# helm create <directory name> -: it'll create a new charts/directory and values.yaml and template folder and etc.
# helm lint chart/directory-name  -: we can get the our chart's formatting or information.

# K8s-CMDS -:
# ===========
# kubectl get ns
# kubectl get po -n monitoring 
# kubectl port-forward svc/prometheus-server 8090:80 -n ns-name
# kubectl edit configmap ingress-nginx-controller -n ns-name -o yaml
# kubectl get svc -n ingress-nginx
# kubectl edit svc ingress-nginx-controller -n ns-name -o yaml
# kubectl get deployment -n ns-name
# kubectl config current-context                                        -: To get the current cluster details.
# kubectl config use arn:aws:eks:region:arn-number:cluster/cluster1     -: 
# kubectl get events --field-selector involvedObject.name=<pod-name>    -: To get the pod events
# kubectl get storageclasses or sc -n ns-name                           -: To get the storage-class info
# kubectl get sts -n ns-name                                             -: To get statefullset info
# kubectl edit sts sts-name                                              -: To edit the sts info.
# kubectl annotate storageclass aws-ebs storageclass.kubernetes.io/is-default-class=true   -: To set the volume as a default volume (replace storage class name with your storage-class-name) 



